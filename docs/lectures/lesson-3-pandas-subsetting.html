<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>EDS 220 - Working with Environmental Datasets - 4&nbsp; Subsetting</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../lectures/lesson-4-basic-plotting.html" rel="next">
<link href="../discussion-sections/ds1-anthr-prelim-data-exploration.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Subsetting</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">EDS 220 - Working with Environmental Datasets</a> 
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">Welcome!</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lectures/lesson-1-python-review.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Python Review</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">Tabular data</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lectures/lesson-2-series-dataframes.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title"><code>pandas</code></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../discussion-sections/ds1-anthr-prelim-data-exploration.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">* Lab: Preliminary data exploration</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lectures/lesson-3-pandas-subsetting.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Subsetting</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lectures/lesson-4-basic-plotting.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Plotting</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lectures/lesson-5-updating-dataframes.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Updating data frames</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lectures/lesson-6-groupby.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title"><code>groupby()</code></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../discussion-sections/ds2-hares.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">* Lab: Data cleaning</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lectures/lesson-7-time-series.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Basic time series</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">Vector data</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lectures/lesson-8-vector-data.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Data formats</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lectures/lesson-11-crs.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Coordinate Reference Systems</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lectures/lesson-9-geopandas-intro.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title"><code>geopandas</code></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lectures/lesson-10-merge-data.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Merging data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lectures/lesson-12-csv-to-geo.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">csv to <code>GeoDataFrame</code></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../discussion-sections/ds3-earthquakes.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">*Lab: Maps</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">Raster data</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lectures/lesson-14-raster-formats.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Raster data</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">Appendices</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../appendices/set-pat.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">Setting a PAT</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#subsetting-a-pandas.dataframe" id="toc-subsetting-a-pandas.dataframe" class="nav-link active" data-scroll-target="#subsetting-a-pandas.dataframe"><span class="toc-section-number">4.1</span>  Subsetting a <code>pandas.DataFrame</code></a>
  <ul class="collapse">
  <li><a href="#selecting-a-single-column" id="toc-selecting-a-single-column" class="nav-link" data-scroll-target="#selecting-a-single-column"><span class="toc-section-number">4.1.1</span>  Selecting a single column…</a></li>
  <li><a href="#selecting-multiple-columns" id="toc-selecting-multiple-columns" class="nav-link" data-scroll-target="#selecting-multiple-columns"><span class="toc-section-number">4.1.2</span>  Selecting multiple columns…</a></li>
  <li><a href="#selecting-rows" id="toc-selecting-rows" class="nav-link" data-scroll-target="#selecting-rows"><span class="toc-section-number">4.1.3</span>  Selecting rows…</a></li>
  <li><a href="#selecting-rows-and-columns-simultaneously" id="toc-selecting-rows-and-columns-simultaneously" class="nav-link" data-scroll-target="#selecting-rows-and-columns-simultaneously"><span class="toc-section-number">4.1.4</span>  Selecting rows and columns simultaneously…</a></li>
  <li><a href="#notes-about-loc-and-iloc" id="toc-notes-about-loc-and-iloc" class="nav-link" data-scroll-target="#notes-about-loc-and-iloc"><span class="toc-section-number">4.1.5</span>  Notes about <code>loc</code> and <code>iloc</code></a></li>
  </ul></li>
  <li><a href="#summary" id="toc-summary" class="nav-link" data-scroll-target="#summary"><span class="toc-section-number">4.2</span>  Summary</a></li>
  <li><a href="#resources" id="toc-resources" class="nav-link" data-scroll-target="#resources"><span class="toc-section-number">4.3</span>  Resources</a></li>
  <li><a href="#acknowledgements" id="toc-acknowledgements" class="nav-link" data-scroll-target="#acknowledgements"><span class="toc-section-number">4.4</span>  Acknowledgements</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Subsetting</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>In this lesson we will learn different methods to select data from a <code>pandas.DataFrame</code>.</p>
<section id="subsetting-a-pandas.dataframe" class="level2" data-number="4.1">
<h2 data-number="4.1" class="anchored" data-anchor-id="subsetting-a-pandas.dataframe"><span class="header-section-number">4.1</span> Subsetting a <code>pandas.DataFrame</code></h2>
<p>Like it’s often the case when working with <code>pandas</code>, there are <em>many</em> ways in which we can subset a data frame. We will review the core methods to do this. <!--
There are two ways to subset data in a Data Frame: by position and by label. 

* **Subsetting by label** means we want to select data from our data frame using the *names* of the columns or the index.

* **Subsetting by position** means we want to select data from our data frame based on the data's *order* in the data frame.
--></p>
<p>For all examples we will use simplified data (glacial_loss.csv) from the National Snow and Ice Data Center (<a href="​http://dx.doi.org/10.7265/N52N506F">Original dataset</a>). The column descriptions are:</p>
<ul>
<li><strong>year</strong>: ​calendar year</li>
<li><strong>europe - antarctica</strong>: ​change in glacial volume (km3​ ​) in each region that year</li>
<li><strong>global_glacial_volume_change</strong>: ​cumulative​ global glacial volume change (km3), starting in 1961</li>
<li><strong>annual_sea_level_rise</strong>: ​annual rise in sea level (mm)</li>
<li><strong>cumulative_sea_level_rise</strong>:​ cumulative rise in sea level (mm) since 1961</li>
</ul>
<p>First, we read-in the file and get some baisc information about this data frame:</p>
<div class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># import pandas</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># read in file</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.read_csv(<span class="st">'data/lesson-1/glacial_loss.csv'</span>)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="co"># see the first five rows</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="20">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>year</th>
      <th>europe</th>
      <th>arctic</th>
      <th>alaska</th>
      <th>asia</th>
      <th>north_america</th>
      <th>south_america</th>
      <th>antarctica</th>
      <th>global_glacial_volume_change</th>
      <th>annual_sea_level_rise</th>
      <th>cumulative_sea_level_rise</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1961</td>
      <td>-5.128903</td>
      <td>-108.382987</td>
      <td>-18.721190</td>
      <td>-32.350759</td>
      <td>-14.359007</td>
      <td>-4.739367</td>
      <td>-35.116389</td>
      <td>-220.823515</td>
      <td>0.610010</td>
      <td>0.610010</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1962</td>
      <td>5.576282</td>
      <td>-173.252450</td>
      <td>-24.324790</td>
      <td>-4.675440</td>
      <td>-2.161842</td>
      <td>-13.694367</td>
      <td>-78.222887</td>
      <td>-514.269862</td>
      <td>0.810625</td>
      <td>1.420635</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1963</td>
      <td>-10.123105</td>
      <td>-0.423751</td>
      <td>-2.047567</td>
      <td>-3.027298</td>
      <td>-27.535881</td>
      <td>3.419633</td>
      <td>3.765109</td>
      <td>-550.575640</td>
      <td>0.100292</td>
      <td>1.520927</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1964</td>
      <td>-4.508358</td>
      <td>20.070148</td>
      <td>0.477800</td>
      <td>-18.675385</td>
      <td>-2.248286</td>
      <td>20.732633</td>
      <td>14.853096</td>
      <td>-519.589859</td>
      <td>-0.085596</td>
      <td>1.435331</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1965</td>
      <td>10.629385</td>
      <td>43.695389</td>
      <td>-0.115332</td>
      <td>-18.414602</td>
      <td>-19.398765</td>
      <td>6.862102</td>
      <td>22.793484</td>
      <td>-473.112003</td>
      <td>-0.128392</td>
      <td>1.306939</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># get column names</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>df.columns</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="21">
<pre><code>Index(['year', 'europe', 'arctic', 'alaska', 'asia', 'north_america',
       'south_america', 'antarctica', 'global_glacial_volume_change',
       'annual_sea_level_rise', 'cumulative_sea_level_rise'],
      dtype='object')</code></pre>
</div>
</div>
<div class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># check the data types of each column</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>df.dtypes</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="22">
<pre><code>year                              int64
europe                          float64
arctic                          float64
alaska                          float64
asia                            float64
north_america                   float64
south_america                   float64
antarctica                      float64
global_glacial_volume_change    float64
annual_sea_level_rise           float64
cumulative_sea_level_rise       float64
dtype: object</code></pre>
</div>
</div>
<div class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># data frame's shape: output is a tuple (# rows, # columns)</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>df.shape</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="23">
<pre><code>(43, 11)</code></pre>
</div>
</div>
<section id="selecting-a-single-column" class="level3" data-number="4.1.1">
<h3 data-number="4.1.1" class="anchored" data-anchor-id="selecting-a-single-column"><span class="header-section-number">4.1.1</span> Selecting a single column…</h3>
<section id="by-column-name" class="level4" data-number="4.1.1.1">
<h4 data-number="4.1.1.1" class="anchored" data-anchor-id="by-column-name"><span class="header-section-number">4.1.1.1</span> …by column name</h4>
<p>This is the simplest case for selecting data. Suppose we are interested in the annual sea level rise. Then we can access that single column in this way:</p>
<div class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># seelect a single column by using square brackets []</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>annual_rise <span class="op">=</span> df[<span class="st">'annual_sea_level_rise'</span>]</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="co"># check the type of the ouput</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">type</span>(annual_rise))</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>annual_rise.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.series.Series'&gt;</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="24">
<pre><code>0    0.610010
1    0.810625
2    0.100292
3   -0.085596
4   -0.128392
Name: annual_sea_level_rise, dtype: float64</code></pre>
</div>
</div>
<p>Since we only selected a single column the output is a <code>pandas.Series</code>.</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
<code>pd.DataFrame</code> = dictionary of columns
</div>
</div>
<div class="callout-body-container callout-body">
<p>Remember we can think of a <code>pandas.DataFrame</code> as a dictionary of its columns? Then we can access a single column using the column name as the key, just like we would do in a dictionary. That is the we just used: <code>df['column_name']</code>.</p>
</div>
</div>
<p>This is an example of <strong>selecting by label</strong>, which means we want to select data from our data frame using the <em>names</em> of the columns, <em>not their position</em>.</p>
</section>
<section id="with-attribute-syntax" class="level4" data-number="4.1.1.2">
<h4 data-number="4.1.1.2" class="anchored" data-anchor-id="with-attribute-syntax"><span class="header-section-number">4.1.1.2</span> … with attribute syntax</h4>
<p>We can also access a single column by using attribute syntax:</p>
<div class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>annual_rise_2 <span class="op">=</span> df.annual_sea_level_rise</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>annual_rise_2.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="25">
<pre><code>0    0.610010
1    0.810625
2    0.100292
3   -0.085596
4   -0.128392
Name: annual_sea_level_rise, dtype: float64</code></pre>
</div>
</div>
</section>
</section>
<section id="selecting-multiple-columns" class="level3" data-number="4.1.2">
<h3 data-number="4.1.2" class="anchored" data-anchor-id="selecting-multiple-columns"><span class="header-section-number">4.1.2</span> Selecting multiple columns…</h3>
<section id="using-a-list-of-column-names" class="level4" data-number="4.1.2.1">
<h4 data-number="4.1.2.1" class="anchored" data-anchor-id="using-a-list-of-column-names"><span class="header-section-number">4.1.2.1</span> … using a list of column names</h4>
<p>This is another example of selecting by labels. We just need to pass a list with the column names to the square brackets <code>[]</code>. For example, say we want to look at the change in glacial volume in Europe and Asia, then we can select those columns like this:</p>
<div class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># select columns with names "europe" and "asia"</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>europe_asia <span class="op">=</span> df[[<span class="st">'europe'</span>,<span class="st">'asia'</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Notice there are double square brackets. This is because we are passing the list of names <code>['europe','asia']</code> to the selection brakcets <code>[]</code>.</p>
<div class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># check the type of the resulting selection</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">type</span>(europe_asia))</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="co"># check the shape of the selection</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>((europe_asia.shape))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
(43, 2)</code></pre>
</div>
</div>
</section>
<section id="using-a-slice" class="level4" data-number="4.1.2.2">
<h4 data-number="4.1.2.2" class="anchored" data-anchor-id="using-a-slice"><span class="header-section-number">4.1.2.2</span> … using a slice</h4>
<p>Yet another example of selecting by label! In this case we will use the <code>loc</code> selection. The general syntax is</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>df.loc[ row<span class="op">-</span>selection , column<span class="op">-</span>selection]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>where <code>row-selection</code> and <code>column-selection</code> are the rows and columns we want to subset from the data frame.</p>
<p>Let’s start by a simple example, where we want to select a slice of columns, say the change in glacial volume per year in all regions. This corresponds to all columns between <code>europe</code> and <code>antarctica</code>.</p>
<div class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># select all columns between 'arctic' and 'antarctica'</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>all_regions <span class="op">=</span> df.loc[:,<span class="st">'europe'</span>:<span class="st">'antarctica'</span>]</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>all_regions.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="28">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>europe</th>
      <th>arctic</th>
      <th>alaska</th>
      <th>asia</th>
      <th>north_america</th>
      <th>south_america</th>
      <th>antarctica</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>-5.128903</td>
      <td>-108.382987</td>
      <td>-18.721190</td>
      <td>-32.350759</td>
      <td>-14.359007</td>
      <td>-4.739367</td>
      <td>-35.116389</td>
    </tr>
    <tr>
      <th>1</th>
      <td>5.576282</td>
      <td>-173.252450</td>
      <td>-24.324790</td>
      <td>-4.675440</td>
      <td>-2.161842</td>
      <td>-13.694367</td>
      <td>-78.222887</td>
    </tr>
    <tr>
      <th>2</th>
      <td>-10.123105</td>
      <td>-0.423751</td>
      <td>-2.047567</td>
      <td>-3.027298</td>
      <td>-27.535881</td>
      <td>3.419633</td>
      <td>3.765109</td>
    </tr>
    <tr>
      <th>3</th>
      <td>-4.508358</td>
      <td>20.070148</td>
      <td>0.477800</td>
      <td>-18.675385</td>
      <td>-2.248286</td>
      <td>20.732633</td>
      <td>14.853096</td>
    </tr>
    <tr>
      <th>4</th>
      <td>10.629385</td>
      <td>43.695389</td>
      <td>-0.115332</td>
      <td>-18.414602</td>
      <td>-19.398765</td>
      <td>6.862102</td>
      <td>22.793484</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>Notice two things:</p>
<ul>
<li>we used the colon <code>:</code> as the <code>row-selection</code> parameter, which means “select all the rows”</li>
<li>the slice of the data frame we got includes both endpoints of the slice <code>'arctic':'antarctica'</code>. In other words we get the <code>europe</code> column <em>and</em> the <code>antarctica</code> column. This is different from how slicing works in base Python and NumPy, where the endpoint is not included.</li>
</ul>
</section>
</section>
<section id="selecting-rows" class="level3" data-number="4.1.3">
<h3 data-number="4.1.3" class="anchored" data-anchor-id="selecting-rows"><span class="header-section-number">4.1.3</span> Selecting rows…</h3>
<p>Now that we are familiar with some methods for selecting columns, let’s move on to selecting rows.</p>
<section id="using-a-condition" class="level4" data-number="4.1.3.1">
<h4 data-number="4.1.3.1" class="anchored" data-anchor-id="using-a-condition"><span class="header-section-number">4.1.3.1</span> … using a condition</h4>
<p>Selecting which rows satisfy a particular condition is, in my experience, the most usual kind of row subsetting. The general syntax for this type of selection is <code>df[condition_on_rows]</code>. For example, suppose we are intersted in all data after 1996. We can select those rows in this way:</p>
<div class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># select all rows with year &gt; 1996</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>after_96 <span class="op">=</span> df[df[<span class="st">'year'</span>]<span class="op">&gt;</span><span class="dv">1996</span>]</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>after_96</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="29">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>year</th>
      <th>europe</th>
      <th>arctic</th>
      <th>alaska</th>
      <th>asia</th>
      <th>north_america</th>
      <th>south_america</th>
      <th>antarctica</th>
      <th>global_glacial_volume_change</th>
      <th>annual_sea_level_rise</th>
      <th>cumulative_sea_level_rise</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>36</th>
      <td>1997</td>
      <td>-13.724106</td>
      <td>-24.832246</td>
      <td>-167.229145</td>
      <td>-34.406403</td>
      <td>-27.680661</td>
      <td>-38.213286</td>
      <td>-20.179090</td>
      <td>-4600.686013</td>
      <td>0.909625</td>
      <td>12.709077</td>
    </tr>
    <tr>
      <th>37</th>
      <td>1998</td>
      <td>-13.083338</td>
      <td>-110.429302</td>
      <td>-107.879027</td>
      <td>-58.115702</td>
      <td>30.169987</td>
      <td>-3.797978</td>
      <td>-48.129928</td>
      <td>-4914.831966</td>
      <td>0.867807</td>
      <td>13.576884</td>
    </tr>
    <tr>
      <th>38</th>
      <td>1999</td>
      <td>-8.039555</td>
      <td>-64.644068</td>
      <td>-87.714653</td>
      <td>-26.211723</td>
      <td>5.888512</td>
      <td>-8.038630</td>
      <td>-40.653001</td>
      <td>-5146.368231</td>
      <td>0.639603</td>
      <td>14.216487</td>
    </tr>
    <tr>
      <th>39</th>
      <td>2000</td>
      <td>-17.008590</td>
      <td>-96.494055</td>
      <td>-44.445000</td>
      <td>-37.518173</td>
      <td>-29.191986</td>
      <td>-2.767698</td>
      <td>-58.873830</td>
      <td>-5435.317175</td>
      <td>0.798202</td>
      <td>15.014688</td>
    </tr>
    <tr>
      <th>40</th>
      <td>2001</td>
      <td>-8.419109</td>
      <td>-145.415483</td>
      <td>-55.749505</td>
      <td>-35.977022</td>
      <td>-0.926134</td>
      <td>7.553503</td>
      <td>-86.774675</td>
      <td>-5764.039931</td>
      <td>0.908074</td>
      <td>15.922762</td>
    </tr>
    <tr>
      <th>41</th>
      <td>2002</td>
      <td>-3.392361</td>
      <td>-48.718943</td>
      <td>-87.120000</td>
      <td>-36.127226</td>
      <td>-27.853498</td>
      <td>-13.484593</td>
      <td>-30.203960</td>
      <td>-6013.225500</td>
      <td>0.688358</td>
      <td>16.611120</td>
    </tr>
    <tr>
      <th>42</th>
      <td>2003</td>
      <td>-3.392361</td>
      <td>-48.718943</td>
      <td>-67.253634</td>
      <td>-36.021991</td>
      <td>-75.066475</td>
      <td>-13.223430</td>
      <td>-30.203960</td>
      <td>-6289.640976</td>
      <td>0.763579</td>
      <td>17.374699</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>Let’s break down what is happening here. In this case the condition for our rows is <code>df['year']&gt;1996</code>, this checks which rows have a value greater than 1996 in the year column. Let’s see this explicitely:</p>
<div class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># check the type of df['year']&gt;1996</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">type</span>(df[<span class="st">'year'</span>]<span class="op">&gt;</span><span class="dv">1996</span>))</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'year'</span>]<span class="op">&gt;</span><span class="dv">1996</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.series.Series'&gt;</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="30">
<pre><code>0     False
1     False
2     False
3     False
4     False
5     False
6     False
7     False
8     False
9     False
10    False
11    False
12    False
13    False
14    False
15    False
16    False
17    False
18    False
19    False
20    False
21    False
22    False
23    False
24    False
25    False
26    False
27    False
28    False
29    False
30    False
31    False
32    False
33    False
34    False
35    False
36     True
37     True
38     True
39     True
40     True
41     True
42     True
Name: year, dtype: bool</code></pre>
</div>
</div>
<p>The output is a <code>pandas.Series</code> with boolean values (<code>True</code> or <code>False</code>) indicating which rows satisfy the condition year&gt;1996. When we pass such a series of boolean values to the selection brackets <code>[]</code> we keep only those rows with a <code>True</code> value.</p>
<p>Here’s another example of using a condition. Suppose we want to look at data from years 1970 to 1979. One way of doing this is to use the <code>in</code> operator in our condition:</p>
<div class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>seventies <span class="op">=</span> df[df[<span class="st">'year'</span>].isin(<span class="bu">range</span>(<span class="dv">1970</span>,<span class="dv">1980</span>))]</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>seventies</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="31">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>year</th>
      <th>europe</th>
      <th>arctic</th>
      <th>alaska</th>
      <th>asia</th>
      <th>north_america</th>
      <th>south_america</th>
      <th>antarctica</th>
      <th>global_glacial_volume_change</th>
      <th>annual_sea_level_rise</th>
      <th>cumulative_sea_level_rise</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>9</th>
      <td>1970</td>
      <td>-6.452316</td>
      <td>-24.494667</td>
      <td>-0.125296</td>
      <td>-36.120199</td>
      <td>11.619790</td>
      <td>11.636911</td>
      <td>4.400377</td>
      <td>-999.018177</td>
      <td>0.110225</td>
      <td>2.759719</td>
    </tr>
    <tr>
      <th>10</th>
      <td>1971</td>
      <td>0.414711</td>
      <td>-42.904189</td>
      <td>28.103328</td>
      <td>-8.702938</td>
      <td>-9.964542</td>
      <td>1.061299</td>
      <td>-6.735536</td>
      <td>-1038.104459</td>
      <td>0.107973</td>
      <td>2.867692</td>
    </tr>
    <tr>
      <th>11</th>
      <td>1972</td>
      <td>-5.144729</td>
      <td>-27.004031</td>
      <td>-22.143350</td>
      <td>-40.883357</td>
      <td>32.363730</td>
      <td>-14.968034</td>
      <td>-6.223849</td>
      <td>-1122.885506</td>
      <td>0.234202</td>
      <td>3.101894</td>
    </tr>
    <tr>
      <th>12</th>
      <td>1973</td>
      <td>4.081090</td>
      <td>9.839444</td>
      <td>22.985188</td>
      <td>-31.432594</td>
      <td>-20.883232</td>
      <td>2.103649</td>
      <td>10.539823</td>
      <td>-1125.677743</td>
      <td>0.007713</td>
      <td>3.109607</td>
    </tr>
    <tr>
      <th>13</th>
      <td>1974</td>
      <td>1.545615</td>
      <td>-40.126998</td>
      <td>-29.517874</td>
      <td>-43.861622</td>
      <td>-23.991402</td>
      <td>-21.338825</td>
      <td>4.419343</td>
      <td>-1279.964287</td>
      <td>0.426206</td>
      <td>3.535813</td>
    </tr>
    <tr>
      <th>14</th>
      <td>1975</td>
      <td>7.431192</td>
      <td>-32.410467</td>
      <td>-44.094084</td>
      <td>-43.357442</td>
      <td>-30.858810</td>
      <td>-2.368842</td>
      <td>-7.775315</td>
      <td>-1434.818037</td>
      <td>0.427773</td>
      <td>3.963586</td>
    </tr>
    <tr>
      <th>15</th>
      <td>1976</td>
      <td>3.986753</td>
      <td>21.686639</td>
      <td>-28.234725</td>
      <td>-67.292125</td>
      <td>-12.534421</td>
      <td>-19.465358</td>
      <td>19.250607</td>
      <td>-1518.185129</td>
      <td>0.230296</td>
      <td>4.193882</td>
    </tr>
    <tr>
      <th>16</th>
      <td>1977</td>
      <td>4.891410</td>
      <td>-33.123010</td>
      <td>-5.662139</td>
      <td>-62.165684</td>
      <td>-15.905332</td>
      <td>2.654950</td>
      <td>-23.727249</td>
      <td>-1652.453400</td>
      <td>0.370907</td>
      <td>4.564788</td>
    </tr>
    <tr>
      <th>17</th>
      <td>1978</td>
      <td>8.404591</td>
      <td>-77.561015</td>
      <td>-12.503384</td>
      <td>-22.858040</td>
      <td>-31.097609</td>
      <td>7.127708</td>
      <td>-9.140167</td>
      <td>-1791.355022</td>
      <td>0.383706</td>
      <td>4.948495</td>
    </tr>
    <tr>
      <th>18</th>
      <td>1979</td>
      <td>3.916703</td>
      <td>-88.351684</td>
      <td>-63.938851</td>
      <td>-49.242043</td>
      <td>-12.076624</td>
      <td>-17.718503</td>
      <td>-9.578557</td>
      <td>-2030.537848</td>
      <td>0.660726</td>
      <td>5.609221</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>Let’s break it down:</p>
<ul>
<li><p><code>df['year']</code> is the column with the year values, a <code>pandas.Series</code>,</p></li>
<li><p>in <code>df['year'].isin()</code>, we have that <a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.isin.html"><code>isin</code> is a method for the <code>pandas.Series</code></a> and we are calling it using the dot <code>.</code>.</p></li>
<li><p><code>range(1970,1980)</code> constructs consecutive integers from 1970 to 1979 - remember the right endopoint (1980) is not included!</p></li>
<li><p><code>df['year'].isin(range(1970,1980))</code> is then a <code>pandas.Series</code> of boolean values indicating which rows have year equal to 1970, …, 1979.</p></li>
<li><p>when we put <code>df['year'].isin(range(1970,1980))</code> inside the selection brackets <code>[]</code> we obtain the rows of the data frame with year equal to 1970, …, 1979.</p></li>
</ul>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
<code>loc</code> for row selection
</div>
</div>
<div class="callout-body-container callout-body">
<p>It is equivalent to write</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># select rows with year&lt;1965</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>df[df[<span class="st">'year'</span>] <span class="op">&lt;</span> <span class="dv">1965</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>and</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># select rows with year&lt;1965 using love</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>df.loc[ df[<span class="st">'year'</span>] <span class="op">&lt;</span><span class="dv">1965</span> , :]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>In the second one:</p>
<ul>
<li><p>we are using the <code>df.loc[ row-selection , column-selection]</code> syntax</p></li>
<li><p>the <code>row-selection</code> parameter is the condition <code>df['year']&lt;1965</code></p></li>
<li><p>the <code>column-selection</code> parameter is a colon <code>:</code>, which indicates we want all columns for the rows we are selecting.</p></li>
</ul>
<p>We prefer the first syntax when we are selecting rows and not columns since it is simpler.</p>
</div>
</div>
</section>
<section id="using-multiple-conditions" class="level4" data-number="4.1.3.2">
<h4 data-number="4.1.3.2" class="anchored" data-anchor-id="using-multiple-conditions"><span class="header-section-number">4.1.3.2</span> … using multiple conditions</h4>
<p>We can combine multipe conditions by surrounding each one in parenthesis <code>()</code> and using the or operator <code>|</code> and the and operator <code>&amp;</code>.</p>
<p><strong><em>or</em> example</strong>:</p>
<div class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># select rows with </span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="co"># annual_sea_level_rise&lt;0.5 mm OR annual_sea_level_rise&gt;0.8 mm</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>df[ (df[<span class="st">'annual_sea_level_rise'</span>]<span class="op">&lt;</span><span class="fl">0.5</span>) <span class="op">|</span> (df[<span class="st">'annual_sea_level_rise'</span>]<span class="op">&gt;</span><span class="fl">0.8</span>)]</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="32">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>year</th>
      <th>europe</th>
      <th>arctic</th>
      <th>alaska</th>
      <th>asia</th>
      <th>north_america</th>
      <th>south_america</th>
      <th>antarctica</th>
      <th>global_glacial_volume_change</th>
      <th>annual_sea_level_rise</th>
      <th>cumulative_sea_level_rise</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1961</td>
      <td>-5.128903</td>
      <td>-108.382987</td>
      <td>-18.721190</td>
      <td>-32.350759</td>
      <td>-14.359007</td>
      <td>-4.739367</td>
      <td>-35.116389</td>
      <td>-220.823515</td>
      <td>0.610010</td>
      <td>0.610010</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1962</td>
      <td>5.576282</td>
      <td>-173.252450</td>
      <td>-24.324790</td>
      <td>-4.675440</td>
      <td>-2.161842</td>
      <td>-13.694367</td>
      <td>-78.222887</td>
      <td>-514.269862</td>
      <td>0.810625</td>
      <td>1.420635</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1963</td>
      <td>-10.123105</td>
      <td>-0.423751</td>
      <td>-2.047567</td>
      <td>-3.027298</td>
      <td>-27.535881</td>
      <td>3.419633</td>
      <td>3.765109</td>
      <td>-550.575640</td>
      <td>0.100292</td>
      <td>1.520927</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1964</td>
      <td>-4.508358</td>
      <td>20.070148</td>
      <td>0.477800</td>
      <td>-18.675385</td>
      <td>-2.248286</td>
      <td>20.732633</td>
      <td>14.853096</td>
      <td>-519.589859</td>
      <td>-0.085596</td>
      <td>1.435331</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1965</td>
      <td>10.629385</td>
      <td>43.695389</td>
      <td>-0.115332</td>
      <td>-18.414602</td>
      <td>-19.398765</td>
      <td>6.862102</td>
      <td>22.793484</td>
      <td>-473.112003</td>
      <td>-0.128392</td>
      <td>1.306939</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p><strong><em>and</em> example</strong></p>
<div class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># select rows with cumulative_sea_level_rise&gt;10 AND  global_glacial_volume_change&lt;-300</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>df[ (df[<span class="st">'cumulative_sea_level_rise'</span>]<span class="op">&gt;</span><span class="dv">10</span>) <span class="op">&amp;</span> (df[<span class="st">'global_glacial_volume_change'</span>]<span class="op">&lt;-</span><span class="dv">300</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="33">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>year</th>
      <th>europe</th>
      <th>arctic</th>
      <th>alaska</th>
      <th>asia</th>
      <th>north_america</th>
      <th>south_america</th>
      <th>antarctica</th>
      <th>global_glacial_volume_change</th>
      <th>annual_sea_level_rise</th>
      <th>cumulative_sea_level_rise</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>32</th>
      <td>1993</td>
      <td>16.685013</td>
      <td>-73.666274</td>
      <td>-43.702040</td>
      <td>-65.995130</td>
      <td>-33.151246</td>
      <td>-20.578403</td>
      <td>-20.311577</td>
      <td>-3672.582082</td>
      <td>0.671126</td>
      <td>10.145254</td>
    </tr>
    <tr>
      <th>33</th>
      <td>1994</td>
      <td>0.741751</td>
      <td>-3.069084</td>
      <td>-59.962273</td>
      <td>-59.004710</td>
      <td>-89.506142</td>
      <td>-15.258449</td>
      <td>-8.168498</td>
      <td>-3908.977191</td>
      <td>0.653025</td>
      <td>10.798280</td>
    </tr>
    <tr>
      <th>34</th>
      <td>1995</td>
      <td>-2.139665</td>
      <td>-58.167778</td>
      <td>-74.141762</td>
      <td>3.500155</td>
      <td>-0.699374</td>
      <td>-19.863392</td>
      <td>-25.951496</td>
      <td>-4088.082873</td>
      <td>0.494767</td>
      <td>11.293047</td>
    </tr>
    <tr>
      <th>35</th>
      <td>1996</td>
      <td>-6.809834</td>
      <td>-4.550205</td>
      <td>-74.847017</td>
      <td>-67.436591</td>
      <td>4.867530</td>
      <td>-21.080115</td>
      <td>-11.781489</td>
      <td>-4271.401594</td>
      <td>0.506405</td>
      <td>11.799452</td>
    </tr>
    <tr>
      <th>36</th>
      <td>1997</td>
      <td>-13.724106</td>
      <td>-24.832246</td>
      <td>-167.229145</td>
      <td>-34.406403</td>
      <td>-27.680661</td>
      <td>-38.213286</td>
      <td>-20.179090</td>
      <td>-4600.686013</td>
      <td>0.909625</td>
      <td>12.709077</td>
    </tr>
    <tr>
      <th>37</th>
      <td>1998</td>
      <td>-13.083338</td>
      <td>-110.429302</td>
      <td>-107.879027</td>
      <td>-58.115702</td>
      <td>30.169987</td>
      <td>-3.797978</td>
      <td>-48.129928</td>
      <td>-4914.831966</td>
      <td>0.867807</td>
      <td>13.576884</td>
    </tr>
    <tr>
      <th>38</th>
      <td>1999</td>
      <td>-8.039555</td>
      <td>-64.644068</td>
      <td>-87.714653</td>
      <td>-26.211723</td>
      <td>5.888512</td>
      <td>-8.038630</td>
      <td>-40.653001</td>
      <td>-5146.368231</td>
      <td>0.639603</td>
      <td>14.216487</td>
    </tr>
    <tr>
      <th>39</th>
      <td>2000</td>
      <td>-17.008590</td>
      <td>-96.494055</td>
      <td>-44.445000</td>
      <td>-37.518173</td>
      <td>-29.191986</td>
      <td>-2.767698</td>
      <td>-58.873830</td>
      <td>-5435.317175</td>
      <td>0.798202</td>
      <td>15.014688</td>
    </tr>
    <tr>
      <th>40</th>
      <td>2001</td>
      <td>-8.419109</td>
      <td>-145.415483</td>
      <td>-55.749505</td>
      <td>-35.977022</td>
      <td>-0.926134</td>
      <td>7.553503</td>
      <td>-86.774675</td>
      <td>-5764.039931</td>
      <td>0.908074</td>
      <td>15.922762</td>
    </tr>
    <tr>
      <th>41</th>
      <td>2002</td>
      <td>-3.392361</td>
      <td>-48.718943</td>
      <td>-87.120000</td>
      <td>-36.127226</td>
      <td>-27.853498</td>
      <td>-13.484593</td>
      <td>-30.203960</td>
      <td>-6013.225500</td>
      <td>0.688358</td>
      <td>16.611120</td>
    </tr>
    <tr>
      <th>42</th>
      <td>2003</td>
      <td>-3.392361</td>
      <td>-48.718943</td>
      <td>-67.253634</td>
      <td>-36.021991</td>
      <td>-75.066475</td>
      <td>-13.223430</td>
      <td>-30.203960</td>
      <td>-6289.640976</td>
      <td>0.763579</td>
      <td>17.374699</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
</section>
<section id="by-position" class="level4" data-number="4.1.3.3">
<h4 data-number="4.1.3.3" class="anchored" data-anchor-id="by-position"><span class="header-section-number">4.1.3.3</span> … by position</h4>
<p>All the selections we have done so far have been using labels or using a condition. Sometimes we might want to select certain rows depending on their <em>actual position</em> in the data frame. In this case we use <code>iloc</code> selection with the syntax <code>df.iloc[row-indices]</code>. <code>iloc</code> stands for integer-location based indexing. Let’s see some examples:</p>
<div class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># select the fifht row = index 4</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>df.iloc[<span class="dv">4</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="34">
<pre><code>year                            1965.000000
europe                            10.629385
arctic                            43.695389
alaska                            -0.115332
asia                             -18.414602
north_america                    -19.398765
south_america                      6.862102
antarctica                        22.793484
global_glacial_volume_change    -473.112003
annual_sea_level_rise             -0.128392
cumulative_sea_level_rise          1.306939
Name: 4, dtype: float64</code></pre>
</div>
</div>
<div class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># select rows 23 through 30, inclduing 30</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>df.iloc[<span class="dv">23</span>:<span class="dv">31</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="35">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>year</th>
      <th>europe</th>
      <th>arctic</th>
      <th>alaska</th>
      <th>asia</th>
      <th>north_america</th>
      <th>south_america</th>
      <th>antarctica</th>
      <th>global_glacial_volume_change</th>
      <th>annual_sea_level_rise</th>
      <th>cumulative_sea_level_rise</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>23</th>
      <td>1984</td>
      <td>8.581427</td>
      <td>-5.755672</td>
      <td>-33.466092</td>
      <td>-20.528535</td>
      <td>-20.734676</td>
      <td>-8.267686</td>
      <td>-3.261011</td>
      <td>-2569.339802</td>
      <td>0.232609</td>
      <td>7.097624</td>
    </tr>
    <tr>
      <th>24</th>
      <td>1985</td>
      <td>-5.970980</td>
      <td>-49.651089</td>
      <td>12.065473</td>
      <td>-31.571622</td>
      <td>-33.833985</td>
      <td>10.072906</td>
      <td>-13.587886</td>
      <td>-2682.857926</td>
      <td>0.313586</td>
      <td>7.411210</td>
    </tr>
    <tr>
      <th>25</th>
      <td>1986</td>
      <td>-5.680642</td>
      <td>22.900847</td>
      <td>7.557447</td>
      <td>-18.920773</td>
      <td>-33.014743</td>
      <td>-4.652030</td>
      <td>30.482473</td>
      <td>-2684.197632</td>
      <td>0.003701</td>
      <td>7.414911</td>
    </tr>
    <tr>
      <th>26</th>
      <td>1987</td>
      <td>8.191477</td>
      <td>12.387780</td>
      <td>-24.007862</td>
      <td>-41.121970</td>
      <td>-48.560996</td>
      <td>1.670733</td>
      <td>3.130190</td>
      <td>-2773.325568</td>
      <td>0.246210</td>
      <td>7.661120</td>
    </tr>
    <tr>
      <th>27</th>
      <td>1988</td>
      <td>-11.117228</td>
      <td>-31.066489</td>
      <td>49.897712</td>
      <td>-21.300712</td>
      <td>-46.545435</td>
      <td>13.460422</td>
      <td>-37.986834</td>
      <td>-2858.767621</td>
      <td>0.236028</td>
      <td>7.897148</td>
    </tr>
    <tr>
      <th>28</th>
      <td>1989</td>
      <td>14.863220</td>
      <td>-23.462392</td>
      <td>-36.112726</td>
      <td>-46.528372</td>
      <td>-57.756422</td>
      <td>-21.687470</td>
      <td>-10.044757</td>
      <td>-3041.169131</td>
      <td>0.503872</td>
      <td>8.401020</td>
    </tr>
    <tr>
      <th>29</th>
      <td>1990</td>
      <td>-1.226009</td>
      <td>-27.484542</td>
      <td>-92.713339</td>
      <td>-35.553433</td>
      <td>-56.563056</td>
      <td>-31.077022</td>
      <td>-29.893352</td>
      <td>-3318.220397</td>
      <td>0.765335</td>
      <td>9.166355</td>
    </tr>
    <tr>
      <th>30</th>
      <td>1991</td>
      <td>-14.391425</td>
      <td>-34.898689</td>
      <td>-8.822063</td>
      <td>-15.338299</td>
      <td>-31.458010</td>
      <td>-7.162909</td>
      <td>-35.968429</td>
      <td>-3467.630284</td>
      <td>0.412734</td>
      <td>9.579089</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>Notice since we are back to indexing by position the right endpoint of the slice (6) is not included in the ouput.</p>
</section>
</section>
<section id="selecting-rows-and-columns-simultaneously" class="level3" data-number="4.1.4">
<h3 data-number="4.1.4" class="anchored" data-anchor-id="selecting-rows-and-columns-simultaneously"><span class="header-section-number">4.1.4</span> Selecting rows and columns simultaneously…</h3>
<p>Selecting rows and columns simultaneously can be done using <code>loc</code> (labels or conditions) or <code>iloc</code> (integer position).</p>
<section id="by-labels-or-conditions" class="level4" data-number="4.1.4.1">
<h4 data-number="4.1.4.1" class="anchored" data-anchor-id="by-labels-or-conditions"><span class="header-section-number">4.1.4.1</span> …by labels or conditions</h4>
<p>When we want to select rows and columns simultaneously by labels or conditions we can use <code>loc</code> selection with the syntax</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>df.loc[ row<span class="op">-</span>selection , column<span class="op">-</span>selection]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>specifying both paratmers: <code>row-selection</code> and <code>column-selection</code>. These parameters can be a condition (which generates a boolean array) or a subset of labels from the index or the column names. Let’s see an examples:</p>
<div class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># select change in glacial volume in Europe per year after 2000</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>df.loc[df[<span class="st">'year'</span>]<span class="op">&gt;</span><span class="dv">2000</span>,[<span class="st">'year'</span>,<span class="st">'europe'</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="36">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>year</th>
      <th>europe</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>40</th>
      <td>2001</td>
      <td>-8.419109</td>
    </tr>
    <tr>
      <th>41</th>
      <td>2002</td>
      <td>-3.392361</td>
    </tr>
    <tr>
      <th>42</th>
      <td>2003</td>
      <td>-3.392361</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>Let’s break it down:</p>
<ul>
<li><p>we are using the <code>df.loc[ row-selection , column-selection]</code> syntax</p></li>
<li><p>the <code>row-selection</code> parameter is the condition <code>df['year']&gt;1990</code>, which is a boolean array saying which years are greater than 1990</p></li>
<li><p>the <code>column-selection</code> parameter is <code>['year','europe']</code> which is a list with the names of the two columns we are intersted in.</p></li>
</ul>
</section>
<section id="by-position-1" class="level4" data-number="4.1.4.2">
<h4 data-number="4.1.4.2" class="anchored" data-anchor-id="by-position-1"><span class="header-section-number">4.1.4.2</span> … by position</h4>
<p>When we want to select rows and columns simultaneously by position we use <code>iloc</code> selection with the syntax:</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>df.iloc[ row<span class="op">-</span>indices , column<span class="op">-</span>indices]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>For example,</p>
<div class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># select rows 3-7 (including 7) and columns 3 and 4</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>df.iloc[ <span class="dv">3</span>:<span class="dv">8</span>, [<span class="dv">3</span>,<span class="dv">4</span>] ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="37">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>alaska</th>
      <th>asia</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>3</th>
      <td>0.477800</td>
      <td>-18.675385</td>
    </tr>
    <tr>
      <th>4</th>
      <td>-0.115332</td>
      <td>-18.414602</td>
    </tr>
    <tr>
      <th>5</th>
      <td>0.224762</td>
      <td>-14.630284</td>
    </tr>
    <tr>
      <th>6</th>
      <td>-7.174030</td>
      <td>-39.013695</td>
    </tr>
    <tr>
      <th>7</th>
      <td>-0.660556</td>
      <td>7.879589</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>Let’s break it down:</p>
<ul>
<li><p>we are using the <code>df.iloc[ row-indices , column-indices]</code> syntax</p></li>
<li><p>the <code>row-indices</code> parameter is the slice <em>of integer indices</em> 3:8. Remember the right endpoint (8) won’t be included.</p></li>
<li><p>the <code>column-indices</code> parameter is the list of integer indices 3 and 4. This means we are selecting the fourth and fifth column.</p></li>
</ul>
</section>
</section>
<section id="notes-about-loc-and-iloc" class="level3" data-number="4.1.5">
<h3 data-number="4.1.5" class="anchored" data-anchor-id="notes-about-loc-and-iloc"><span class="header-section-number">4.1.5</span> Notes about <code>loc</code> and <code>iloc</code></h3>
<div class="callout-caution callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
<code>iloc</code> vs.&nbsp;<code>loc</code>
</div>
</div>
<div class="callout-body-container callout-body">
<p>At the beginning, the difference between <code>iloc</code> and <code>loc</code> can be confusing. Remember the <code>i</code> in <code>iloc</code> stands for <em>integer-location</em>, this reminds us <code>iloc</code> only uses integer indexing to retrieve information from the data frames in the same way as indexing for Python lists.</p>
<p>If you want to dive deeper, this is a great discussion about the difference between <code>iloc</code> and <code>loc</code>: <a href="https://stackoverflow.com/questions/31593201/how-are-iloc-and-loc-different/31593712#31593712">Stackoverflow - How are iloc and loc different?</a></p>
<p>And, as always, the documentation will provide you with more information: <a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.loc.html"><code>pandas.DataFrame.loc</code></a> and <a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.iloc.html"><code>pandas.DataFrame.iloc</code></a>.</p>
</div>
</div>
<div class="callout-warning callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
<code>iloc</code> for column selection? Avoid it!
</div>
</div>
<div class="callout-body-container callout-body">
<p>We can also access columns by position using <code>iloc</code> - but it is best not to if possible.</p>
<p>Suppose we want to access the 10th column in the data frame - then we want to select a column <em>by position</em>. In this case the 10th column is the annual sea level rise data and the 10th position corresponds to the index 9. We can select this column by position using the <code>iloc</code> selection:</p>
<div class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># select column by position using iloc</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="co"># the syntax is iloc[row-indices, column-indices]</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a><span class="co"># [:,9] means "select all rows from the 10th column"</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>annual_rise_3 <span class="op">=</span> df.iloc[:,<span class="dv">9</span>]</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>annual_rise_3.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="38">
<pre><code>0    0.610010
1    0.810625
2    0.100292
3   -0.085596
4   -0.128392
Name: annual_sea_level_rise, dtype: float64</code></pre>
</div>
</div>
<p>Unless you are <em>really</em> looking for information about <em>the 10th column</em>, do not access a column by position. This is bound to break in many ways:</p>
<ul>
<li><p>it relies on a person correctly counting the position of a column. Even with a small dataset this can be prone to error.</p></li>
<li><p>it is not explicit: if we want information about sea level rise <code>df.annual_sea_level_rise</code> or <code>df['annual_sea_level_rise']</code> are explicitely telling us we are accessing that information. <code>df.iloc[:,9]</code> is obscure and uninformative.</p></li>
<li><p>datastets can get updated. Maybe a new column was added before <code>annual_sea_level_rise</code>, this would change the position of the column, which would make any code depending on <code>df.iloc[:,9]</code> invalid. Accessing by label helps reproducibility!</p></li>
</ul>
</div>
</div>
</section>
</section>
<section id="summary" class="level2" data-number="4.2">
<h2 data-number="4.2" class="anchored" data-anchor-id="summary"><span class="header-section-number">4.2</span> Summary</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../images/selection-flow-chart.jpg" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><code>pandas.DataFrame</code> selection flow chart</figcaption><p></p>
</figure>
</div>
</section>
<section id="resources" class="level2" data-number="4.3">
<h2 data-number="4.3" class="anchored" data-anchor-id="resources"><span class="header-section-number">4.3</span> Resources</h2>
<p>What is presented in this section is a comprehensive, but not an exhaustive list of methods to select data in <code>pandas.DataFrames</code>. There are <em>so many</em> ways to subset data to get the same result. Some of the content from this lesson is adapted from the following resources and I encourage you to read them to learn more!</p>
<p>📖 <a href="https://pandas.pydata.org/docs/getting_started/intro_tutorials/03_subset_data.html">Pandas getting started tutorials - How to I select a subset of a DataFrame</a></p>
<p>📖 <a href="https://pandas.pydata.org/docs/user_guide/indexing.html#indexing-slicing-with-labels">Pandas documentation - User Guide - Indexing and Selecting Data</a></p>
<p>📖 <a href="https://wesmckinney.com/book/pandas-basics">Python for Data Analysis, 3E - Getting started with pandas</a></p>
</section>
<section id="acknowledgements" class="level2" data-number="4.4">
<h2 data-number="4.4" class="anchored" data-anchor-id="acknowledgements"><span class="header-section-number">4.4</span> Acknowledgements</h2>
<p>The simplified glacial_loss.csv dataset was created by <a href="https://allisonhorst.github.io">Dr.&nbsp;Allison Horst</a> as part of her course materials on environmental data science.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../discussion-sections/ds1-anthr-prelim-data-exploration.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">* Lab: Preliminary data exploration</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../lectures/lesson-4-basic-plotting.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Plotting</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>