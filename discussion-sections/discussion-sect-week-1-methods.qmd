
:::{.callout-tip}
## Notebook Setup
1. Create a new repository on GitHub. Use the following settings:

    a. Call the repository `eds-220-section-1`.

    b. Add a brief description for your new repository. For example: EDS 220 section - practice session for data selection in pandas.

    c. Keep the repository public.

    d. Initialize the repository with a `README` file and a Python .gitignore template.

2. Clone the repository to a new directory in the Taylor server under your `eds-220` directory.

3. In the terminal use `cd` to navigate into the `eds-220-section-1` directory. Use `pwd` to verify `eds-220-section-1` is your current working directory.

3. Create a new Python Notebook in `eds-220-section-1`. 

4. Update the notebook's name to something useful like 'exercise-data-selection.qmd'.

5. Use the terminal to stage, commit, and push this file to the remote repository. Remember:
    - stage: `git add FILE_NAME`
    - commit with message: `git commit -m "COMMIT_MESSAGE"`
    - push: `git push`

6. If you are prompted for your credentials and need to set up a new Personal Access Token (PAT) follow [steps 13-18 in this guide](https://docs.google.com/document/d/1Pk6_rUDdFjdGg-YVo9Cl8ET3iDsYahyaP0VMRD4UHUk/edit?usp=sharing/) to set it up.


<p style="text-align: center;">
**CHECK IN WITH YOUR TEAM**
</p>

:::


:::{.callout-note}
## General directions
Add comments in each one of your code cells and include markdown cells in between your code cells to add titles to the different execises. 
:::

:::{.callout-note}
## About the data

For this exercise we will use data about [prey items for endangered terrestrial vertebrate species within central California drylands (King et. al, 2023)](https://knb.ecoinformatics.org/view/doi%3A10.5063%2FF1VM49RH). 

This dataset is stored in the [Knowledge Network for Biocomplexity (KNB)](https://knb.ecoinformatics.org) data repository. This is an international repository intended to facilitate ecological and environmental research. It has thousands of open datasets and is hosted by NCEAS!
:::

<!-- Data exploration -->
**1. Archive exploration** 

For many datasets, data exploration begins at the data repository. Take some time to look through the dataset's description in KNB. Discuss the following questions with your team:

a. Does this dataset come with an associated metadata file?
b. Is this data collected in-situ by the authors or is it a synthesis of multiple datasets?
c. Does the dataset contain sensitive data?
d. During what time frame were the observations in the dataset collected?

**2. Metadata exploration**

You may have noticed two metadata files: `Compiled_occurrence_records_for_prey_items_of.xml` and `metadata_arth_occurrences.csv`. Download both of them.

a. Notice the `.xml` document file type is `EML` which stands for [EML: Ecological Metadata Language](https://eml.ecoinformatics.org). 
b. Open the `.xml` file: there's a lot going on. This is a machine-readable file that has metadata about *the whole dataset*. You can proably identify some items like title and creators. 
c. Open the `.csv` file: much easier to understand! Take a minute to look at the column descriptions.


<!-- Data loading -->
**3. Data loading** 

Back in your notebook, import the `pandas` package using standard abbreviation in a code cell. Then follow these steps to read in the data's csv file in the California drylands prey data using the `pandas.read_csv()` function:

a. Navigate to the [data package site](https://knb.ecoinformatics.org/view/doi%3A10.5063%2FF1VM49RH) and copy the URL to access the `arth_occurrences_with_env` csv file. To copy the URL: 

- hover over the Download button –> right click –> “Copy Link".

b. Read in the data from the URL using the `pd.read_csv()` function and store it as `prey` like this:

    ```python
    # read in data
    prey = pd.read_csv('the URL goes here')
    ```

# References

Rachel King, Jenna Braun, Michael Westphal, & CJ Lortie. (2023). Compiled occurrence records for prey items of listed species found in California drylands with associated environmental data. Knowledge Network for Biocomplexity. doi:10.5063/F1VM49RH.

Lortie, C. J., Braun, J., King, R., & Westphal, M. (2023). The importance of open data describing prey item species lists for endangered species. Ecological Solutions and Evidence, 4(2), e12251. https://doi.org/10.1002/2688-8319.12251
